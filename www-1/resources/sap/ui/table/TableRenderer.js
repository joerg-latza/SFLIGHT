/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 * 
 * (c) Copyright 2009-2012 SAP AG. All rights reserved
 */
jQuery.sap.declare("sap.ui.table.TableRenderer");sap.ui.table.TableRenderer={};
sap.ui.table.TableRenderer.render=function(r,t){if(!t.getVisible()){return}t._createRows();r.write("<div");if(t._bAccMode){var a=[];if(t.getToolbar()){a.push(t.getToolbar().getId())}a.push(t.getId()+"-table");r.writeAttribute("aria-owns",a.join(" "));r.writeAttribute("aria-readonly","true");if(t.getTitle()){r.writeAttribute("aria-labelledby",t.getTitle().getId())}if(t.getSelectionMode()===sap.ui.table.SelectionMode.Multi){r.writeAttribute("aria-multiselectable","true")}}r.writeControlData(t);r.addClass("sapUiTable");if(t.getColumnHeaderVisible()){r.addClass("sapUiTableCHdr")}if(t.getSelectionMode()!==sap.ui.table.SelectionMode.None&&t.getSelectionBehavior()!==sap.ui.table.SelectionBehavior.RowOnly){r.addClass("sapUiTableRSel")}r.addClass("sapUiTableSelMode"+t.getSelectionMode());if(t.getNavigationMode()===sap.ui.table.NavigationMode.Scrollbar){r.addClass("sapUiTableVScr")}if(t.getEditable()){r.addClass("sapUiTableEdt")}r.addClass("sapUiTableShNoDa");if(t.getShowNoData()&&t._getRowCount()===0){r.addClass("sapUiTableEmpty")}r.writeClasses();if(t.getWidth()){r.addStyle("width",t.getWidth())}r.writeStyles();r.write(">");if(t.getTitle()){this.renderHeader(r,t,t.getTitle())}if(t.getToolbar()){this.renderToolbar(r,t,t.getToolbar())}if(t.getExtension()&&t.getExtension().length>0){this.renderExtensions(r,t,t.getExtension())}r.write("<div");r.addClass("sapUiTableCnt");r.writeClasses();if(t._bAccMode){r.writeAttribute("aria-describedby",t.getId()+"-ariacount")}r.write(">");this.renderColHdr(r,t);this.renderTable(r,t);if(t._bAccMode){r.write("<span");r.writeAttribute("id",t.getId()+"-ariacount");r.addStyle("position","absolute");r.addStyle("top","-20000px");r.writeStyles();r.write(">");r.write("</span>");r.write("<span");r.writeAttribute("id",t.getId()+"-toggleedit");r.addStyle("position","absolute");r.addStyle("top","-20000px");r.writeStyles();r.write(">");r.write(t._oResBundle.getText("TBL_TOGGLE_EDIT_KEY"));r.write("</span>")}r.write("</div>");if(t.getNavigationMode()===sap.ui.table.NavigationMode.Paginator){r.write("<div");r.addClass("sapUiTablePaginator");r.writeClasses();r.write(">");if(!t._oPaginator){jQuery.sap.require("sap.ui.commons.Paginator");t._oPaginator=new sap.ui.commons.Paginator(t.getId()+"-paginator");t._oPaginator.attachPage(jQuery.proxy(t.onvscroll,t))}r.renderControl(t._oPaginator);r.write("</div>")}if(t.getFooter()){this.renderFooter(r,t,t.getFooter())}if(t.getVisibleRowCountMode()==sap.ui.table.VisibleRowCountMode.Interactive){this.renderVariableHeight(r,t)}r.write("</div>")};
sap.ui.table.TableRenderer.renderHeader=function(r,t,T){r.write("<div");r.addClass("sapUiTableHdr");r.writeClasses();if(t._bAccMode){r.writeAttribute("role","heading")}r.write(">");r.renderControl(T);r.write("</div>")};
sap.ui.table.TableRenderer.renderToolbar=function(r,t,T){r.write("<div");r.addClass("sapUiTableTbr");r.writeClasses();r.write(">");r.renderControl(T);r.write("</div>")};
sap.ui.table.TableRenderer.renderExtensions=function(r,t,e){for(var i=0,l=e.length;i<l;i++){this.renderExtension(r,t,e[i])}};
sap.ui.table.TableRenderer.renderExtension=function(r,t,e){r.write("<div");r.addClass("sapUiTableExt");r.writeClasses();r.write(">");r.renderControl(e);r.write("</div>")};
sap.ui.table.TableRenderer.renderTable=function(r,t){r.write("<div");r.addClass("sapUiTableCCnt");r.writeClasses();r.write(">");this.renderRowHdr(r,t);this.renderTableCtrl(r,t);this.renderVSb(r,t);r.write("</div>");this.renderHSb(r,t)};
sap.ui.table.TableRenderer.renderFooter=function(r,t,f){r.write("<div");r.addClass("sapUiTableFtr");r.writeClasses();r.write(">");r.renderControl(f);r.write("</div>")};
sap.ui.table.TableRenderer.renderVariableHeight=function(r,t){r.write('<div id="'+t.getId()+'-sb" tabIndex="-1"');r.addClass("sapUiTableSplitterBar");r.addStyle("height","5px");r.writeClasses();r.writeStyles();r.write(">");r.write("</div>")};
sap.ui.table.TableRenderer.renderColHdr=function(r,t){r.write("<div");r.addClass("sapUiTableColHdrCnt");r.writeClasses();if(t.getColumnHeaderHeight()>0){r.addStyle("height",t.getColumnHeaderHeight()+"px")}if(t._bAccMode&&(t.getSelectionMode()===sap.ui.table.SelectionMode.None||t.getSelectionBehavior()===sap.ui.table.SelectionBehavior.RowOnly)){r.writeAttribute("role","row")}r.writeStyles();r.write(">");this.renderColRowHdr(r,t);r.write("<div");r.addClass("sapUiTableColHdrScr");r.writeClasses();r.write(">");r.write("<div");r.addClass("sapUiTableColHdr");r.writeClasses();r.addStyle("min-width",t._getColumnsWidth()+"px");r.writeStyles();r.write(">");var c=t.getColumns();for(var i=0,l=c.length;i<l;i++){if(c[i].getVisible()&&!c[i].getGrouped()){this.renderCol(r,t,c[i],i);this.renderColRsz(r,t,c[i],i)}}r.write("<p style=\"clear: both;\"></p>");r.write("</div>");r.write("</div>");r.write("</div>")};
sap.ui.table.TableRenderer.renderColRowHdr=function(r,t){r.write("<div");r.writeAttribute("id",t.getId()+"-selall");r.writeAttributeEscaped("title",t._oResBundle.getText("TBL_SELECT_ALL"));r.addClass("sapUiTableColRowHdr");r.writeClasses();if(t._bAccMode){r.writeAttribute("tabindex","-1");r.writeAttributeEscaped("aria-label",t._oResBundle.getText("TBL_SELECT_ALL_KEY"))}r.write(">");if(t.getSelectionMode()!==sap.ui.table.SelectionMode.Single){r.write("<div");r.addClass("sapUiTableColRowHdrIco");r.writeClasses();if(t.getColumnHeaderHeight()>0){r.addStyle("height",t.getColumnHeaderHeight()+"px")}r.write(">");r.write("</div>")}r.write("</div>")};
sap.ui.table.TableRenderer.renderCol=function(r,t,c,i){r.write("<div");r.writeElementData(c);r.writeAttribute("data-sap-ui-colindex",i);if(t._bAccMode){if(jQuery.browser.msie){r.writeAttribute("role","columnheader")}r.writeAttribute("aria-haspopup","true");r.writeAttribute("tabindex","-1")}r.addClass("sapUiTableCol");r.writeClasses();r.addStyle("width",c.getWidth());if(t.getColumnHeaderHeight()>0){r.addStyle("height",t.getColumnHeaderHeight()+"px")}r.writeStyles();var T=c.getTooltip_AsString();if(T){r.writeAttributeEscaped("title",T)}r.write("><div");r.addClass("sapUiTableColCell");r.writeClasses();r.write(">");r.write("<div id=\""+c.getId()+"-icons\" class=\"sapUiTableColIcons\"></div>");r.renderControl(c.getLabel());r.write("</div></div>")};
sap.ui.table.TableRenderer.renderColRsz=function(r,t,c,i){if(c.getResizable()){r.write("<div");r.writeAttribute("id",c.getId()+"-rsz");r.writeAttribute("data-sap-ui-colindex",i);r.writeAttribute("tabindex","-1");r.addClass("sapUiTableColRsz");r.writeClasses();r.addStyle("left",t._bRtlMode?"99000px":"-99000px");r.writeStyles();r.write("></div>")}};
sap.ui.table.TableRenderer.renderRowHdr=function(r,t){r.write("<div");r.addClass("sapUiTableRowHdrScr");r.writeClasses();r.write(">");for(var a=0,c=t.getRows().length;a<c;a++){this.renderRowHdrRow(r,t,t.getRows()[a],a)}r.write("</div>")};
sap.ui.table.TableRenderer.renderRowHdrRow=function(r,t,R,i){r.write("<div");r.writeAttribute("id",t.getId()+"-rowsel"+i);r.writeAttribute("data-sap-ui-rowindex",i);r.addClass("sapUiTableRowHdr");r.writeClasses();if(t.getRowHeight()>0){r.addStyle("height",t.getRowHeight()+"px")}if(t._bAccMode){var c=[];jQuery.each(R.getCells(),function(I,C){c.push(R.getId()+"-col"+I)});if(t.getSelectionMode()===sap.ui.table.SelectionMode.Multi){r.writeAttribute("aria-selected","false")}if(t.getSelectionMode()!==sap.ui.table.SelectionMode.None){r.writeAttributeEscaped("title",t._oResBundle.getText("TBL_ROW_SELECT"));r.writeAttributeEscaped("aria-label",t._oResBundle.getText("TBL_ROW_SELECT_KEY"))}r.writeAttribute("tabindex","-1")}r.writeStyles();r.write("></div>")};
sap.ui.table.TableRenderer.renderTableCtrl=function(r,t){r.write("<div");r.addClass("sapUiTableCtrlScr");r.writeClasses();r.write(">");r.write("<div");r.addClass("sapUiTableCtrlCnt");r.writeClasses();r.write(">");r.write("<div");r.addClass("sapUiTableCtrlBefore");r.writeClasses();r.writeAttribute("tabindex","0");r.write("></div>");this.renderTableControl(r,t);r.write("<div");r.addClass("sapUiTableCtrlAfter");r.writeClasses();r.writeAttribute("tabindex","0");r.write("></div>");r.write("</div>");r.write("</div>");r.write("<div");r.addClass("sapUiTableCtrlEmpty");r.writeClasses();r.writeAttribute("tabindex","0");r.write(">");if(t.getNoData()){r.renderControl(t.getNoData())}else{r.write("<span");r.addClass("sapUiTableCtrlEmptyMsg");r.writeClasses();r.write(">");r.writeEscaped(t._oResBundle.getText("TBL_NO_DATA"));r.write("</span>")}r.write("</div>")};
sap.ui.table.TableRenderer.renderTableControl=function(r,t){r.write("<table");r.writeAttribute("id",t.getId()+"-table");if(t._bAccMode){r.writeAttribute("role","grid")}r.addClass("sapUiTableCtrl");r.writeClasses();r.addStyle("min-width",t._getColumnsWidth()+"px");r.writeStyles();r.write(">");r.write("<tr");r.addClass("sapUiTableCtrlCol");if(t._bAccMode){r.writeAttribute("role","row")}r.writeClasses();r.write(">");var c=t.getColumns();if(t.getSelectionMode()!==sap.ui.table.SelectionMode.None&&t.getSelectionBehavior()!==sap.ui.table.SelectionBehavior.RowOnly){r.write("<th");r.addStyle("width","0px");r.writeStyles();if(t._bAccMode){r.writeAttribute("role","gridcell")}r.write("></th>")}else{if(c.length===0){r.write("<th></th>")}}for(var a=0,b=c.length;a<b;a++){var C=c[a];if(C.getVisible()&&!C.getGrouped()){r.write("<th");r.addStyle("width",C.getWidth());r.writeStyles();if(t._bAccMode){r.writeAttribute("aria-owns",C.getId());r.writeAttribute("aria-labelledby",C.getId())}r.write("></th>")}}r.write("</tr>");var R=t.getRows();for(var d=0,b=R.length;d<b;d++){this.renderTableRow(r,t,R[d],d)}r.write("</table>")};
sap.ui.table.TableRenderer.renderTableRow=function(r,t,R,i){r.write("<tr");r.writeElementData(R);if(R._bHidden){r.writeAttribute("class","sapUiTableRowHidden")}r.writeAttribute("data-sap-ui-rowindex",i);if(t.getRowHeight()>0){r.addStyle("height",t.getRowHeight()+"px")}r.writeStyles();if(t._bAccMode){r.writeAttribute("role","row");if(t.getSelectionMode()===sap.ui.table.SelectionMode.Multi){r.writeAttribute("aria-selected","false")}}r.write(">");var c=R.getCells();if(t.getSelectionMode()!==sap.ui.table.SelectionMode.None&&t.getSelectionBehavior()!==sap.ui.table.SelectionBehavior.RowOnly){r.write("<td");if(t._bAccMode){r.writeAttribute("role","row")}r.write("></td>")}else{if(c.length===0){r.write("<td");if(t._bAccMode){r.writeAttribute("role","row")}r.write("></td>")}}for(var a=0,b=c.length;a<b;a++){this.renderTableCell(r,t,R,c[a],a)}r.write("</tr>")};
sap.ui.table.TableRenderer.renderTableCell=function(r,t,R,c,C){var i=c.data("sap-ui-colindex");var o=t.getColumns()[i];if(o.getVisible()&&!o.getGrouped()){r.write("<td");var I=R.getId()+"-col"+C;r.writeAttribute("id",I);if(t._bAccMode){r.writeAttribute("role","gridcell");r.writeAttribute("aria-labelledby",o.getId()+" "+c.getId());r.writeAttribute("aria-describedby",t.getId()+"-toggleedit");r.writeAttribute("aria-activedescendant",c.getId());r.writeAttribute("tabindex","-1")}var h=this.getHAlign(o.getHAlign(),t._bRtlMode);if(h){r.addStyle("text-align",h)}r.writeStyles();if(C===0){r.addClass("sapUiTableTdFirst")}r.writeClasses();r.write("><div");r.addClass("sapUiTableCell");r.writeClasses();r.write(">");this.renderTableCellControl(r,t,c,C);r.write("</div></td>")}};
sap.ui.table.TableRenderer.renderTableCellControl=function(r,t,c,C){r.renderControl(c)};
sap.ui.table.TableRenderer.renderVSb=function(r,t){r.write("<div");r.addClass("sapUiTableVSb");r.writeClasses();r.write(">");r.renderControl(t._oVSb);r.write("</div>")};
sap.ui.table.TableRenderer.renderHSb=function(r,t){r.write("<div");r.addClass("sapUiTableHSb");r.writeClasses();r.write(">");r.renderControl(t._oHSb);r.write("</div>")};
sap.ui.table.TableRenderer.getHAlign=function(h,r){switch(h){case sap.ui.commons.layout.HAlign.Center:return"center";case sap.ui.commons.layout.HAlign.End:case sap.ui.commons.layout.HAlign.Right:return r?"left":"right"}return r?"right":"left"};
