/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 * 
 * (c) Copyright 2009-2012 SAP AG. All rights reserved
 */
jQuery.sap.declare("sap.ui.commons.layout.MatrixLayoutRenderer");sap.ui.commons.layout.MatrixLayoutRenderer={};
sap.ui.commons.layout.MatrixLayoutRenderer.render=function(R,m){var a=R;var r=sap.ui.commons.layout.MatrixLayoutRenderer;if(!m.getVisible()){return}var b=sap.ui.getCore().getConfiguration().getRTL();a.write("<TABLE role=\"presentation\"");a.writeControlData(m);a.write(" cellpadding=\"0\" cellspacing=\"0\"");a.addStyle("border-collapse","collapse");if(m.getWidth()&&m.getWidth()!=''){a.addStyle("width",m.getWidth())}if(m.getHeight()&&m.getHeight()!=''){a.addStyle("height",m.getHeight());var M=r.getValueUnit(m.getHeight())}if(m.getLayoutFixed()){a.addStyle("table-layout","fixed");if(!m.getWidth()||m.getWidth()==''){a.addStyle("width","100%")}}a.addClass("sapUiMlt");a.writeStyles();a.writeClasses();a.write('>');var c=m.getRows();var C=m.getColumns();if(C<1){for(var i=0;i<c.length;i++){var o=c[i];var d=o.getCells();if(C<d.length){C=d.length}}}if(C>0){var w=m.getWidths();a.write("<colgroup>");for(var j=0;j<C;j++){a.write("<col");if(w&&w[j]&&w[j]!="auto"){a.addStyle('width',w[j]);a.writeStyles()}a.write("/>")}a.write("</colgroup>")}a.write('<TBODY style="width: 100%; height: 100%">');for(var i=0;i<c.length;i++){var o=c[i];var s=false;if(o.getHeight()){s=o.getHeight()}if(o.getHeight()&&o.getHeight()!=""&&M){var e=r.getValueUnit(o.getHeight());if(e.Unit=='%'&&M.Unit!='%'){s=(M.Value*e.Value/100)+M.Unit}}a.write("<tr");a.writeElementData(o);a.writeClasses(o);if(jQuery.browser.msie&&jQuery.browser.version=="9.0"&&s&&s!=""){a.addStyle("height",s);a.writeStyles()}a.write(">");var d=o.getCells();var f=C;if(C<1){f=d.length}var g=0;if(!o.RowSpanCells){o.RowSpanCells=0}for(var j=0;j<f;j++){if(j>=(f-g-o.RowSpanCells)){break}var h=d[j];a.write("<td");if(s&&s!=""&&(!h||h.getRowSpan()==1)){a.addStyle("height",s)}if(h){a.writeElementData(h);if(m.getLayoutFixed()&&h.getContent().length>0){a.addStyle("overflow","hidden")}var H=r.getHAlign(h.getHAlign(),b);if(H){a.writeAttribute("align",H)}var v=r.getVAlign(h.getVAlign());if(v&&v!="middle"){a.writeAttribute("valign",v)}if(h.getColSpan()!=1){a.writeAttribute("colspan",h.getColSpan());g=g+h.getColSpan()-1}if(h.getRowSpan()!=1){a.writeAttribute("rowspan",h.getRowSpan());var V=0;var u="";for(var x=0;x<h.getRowSpan();x++){var k=c[i+x];if(!k){u=false;break}if(!k.RowSpanCells){k.RowSpanCells=0}if(x>0){k.RowSpanCells=k.RowSpanCells+h.getColSpan()}if(!k.getHeight()||k.getHeight()==""){u=false}else{var l=r.getValueUnit(k.getHeight());if(l.Unit=='%'&&M.Unit!='%'){l.Value=(M.Value*e.Value/100);l.Unit=M.Unit}if(u==""){u=l.Unit}else{if(u!=l.Unit){u=false}}V=V+l.Value}}if(u!=false){var S=V+u;a.addStyle("height",S)}}a.addClass(r.getBackgroundClass(h.getBackgroundDesign()));a.addClass(r.getSeparationClass(h.getSeparation()));if(!m.getLayoutFixed()||!o.getHeight()){a.addClass(r.getPaddingClass(h.getPadding()));a.addClass("sapUiMltCell")}else{a.addStyle("white-space","nowrap")}a.writeClasses(h)}a.writeStyles();a.write(">");if(h){if(m.getLayoutFixed()&&o.getHeight()){a.write('<div');if(h.getRowSpan()!=1&&S&&S.search('%')==-1){a.addStyle("height",S)}else if(s.search('%')!=-1||(h.getRowSpan()!=1&&!S)){a.addStyle("height",'100%')}else{a.addStyle("height",s)}a.addStyle("display","inline-block");if(v){a.addStyle("vertical-align",v)}a.writeStyles();a.writeClasses(false);a.write("></div>");a.write('<div');a.addStyle("display","inline-block");if(v){a.addStyle("vertical-align",v)}if(h.getRowSpan()!=1&&S&&S.search('%')==-1){a.addStyle("max-height",S)}else if(s.search('%')!=-1||(h.getRowSpan()!=1&&!S)){a.addStyle("max-height",'100%')}else{a.addStyle("max-height",s)}var n;var D="0";var p="";var I="0";var q=h.getContent();for(var t=0,y=q.length;t<y;t++){if(q[t].getHeight&&q[t].getHeight()!=""){var z=r.getValueUnit(q[t].getHeight());if(p==""){p=z.Unit}if(p!=z.Unit){p="%";D="100";break}if(z.Unit=="%"){if(parseFloat(D)<parseFloat(z.Value)){D=z.Value;if(D!="100"){I=10000/parseFloat(D)}}}}}if(D!="0"){a.addStyle("height",D+p)}a.addStyle("white-space","normal");a.addStyle("width","100%");a.writeStyles();a.writeClasses(false);a.write("><div");a.addStyle("overflow","hidden");a.addStyle("text-overflow","inherit");if(D!="0"){if(I!="0"){a.addStyle("height",I+"%")}else{a.addStyle("height","100%")}}a.addClass("sapUiMltCell");a.addClass(r.getPaddingClass(h.getPadding()));a.writeStyles();a.writeClasses(false);a.write(">")}var q=h.getContent();for(var t=0,y=q.length;t<y;t++){R.renderControl(q[t])}if(m.getLayoutFixed()&&o.getHeight()){a.write("</div></div>")}}a.write("</td>")}a.write("</tr>");o.RowSpanCells=undefined}a.write("</TBODY></TABLE>")};
sap.ui.commons.layout.MatrixLayoutRenderer.getHAlign=function(h,r){switch(h){case sap.ui.commons.layout.HAlign.Begin:return null;case sap.ui.commons.layout.HAlign.Center:return"center";case sap.ui.commons.layout.HAlign.End:return r?"left":"right";case sap.ui.commons.layout.HAlign.Left:return r?"left":null;case sap.ui.commons.layout.HAlign.Right:return r?null:"right"}return null};
sap.ui.commons.layout.MatrixLayoutRenderer.getVAlign=function(v){switch(v){case sap.ui.commons.layout.VAlign.Bottom:return"bottom";case sap.ui.commons.layout.VAlign.Middle:return"middle";case sap.ui.commons.layout.VAlign.Top:return"top"}return null};
sap.ui.commons.layout.MatrixLayoutRenderer.getBackgroundClass=function(b){switch(b){case sap.ui.commons.layout.BackgroundDesign.Border:return"sapUiMltBgBorder";case sap.ui.commons.layout.BackgroundDesign.Fill1:return"sapUiMltBgFill1";case sap.ui.commons.layout.BackgroundDesign.Fill2:return"sapUiMltBgFill2";case sap.ui.commons.layout.BackgroundDesign.Fill3:return"sapUiMltBgFill3";case sap.ui.commons.layout.BackgroundDesign.Header:return"sapUiMltBgHeader";case sap.ui.commons.layout.BackgroundDesign.Plain:return"sapUiMltBgPlain";case sap.ui.commons.layout.BackgroundDesign.Transparent:return null}return null};
sap.ui.commons.layout.MatrixLayoutRenderer.getPaddingClass=function(p){switch(p){case sap.ui.commons.layout.Padding.None:return"sapUiMltPadNone";case sap.ui.commons.layout.Padding.Begin:return"sapUiMltPadLeft";case sap.ui.commons.layout.Padding.End:return"sapUiMltPadRight";case sap.ui.commons.layout.Padding.Both:return"sapUiMltPadBoth";case sap.ui.commons.layout.Padding.Neither:return"sapUiMltPadNeither"}return null};
sap.ui.commons.layout.MatrixLayoutRenderer.getSeparationClass=function(s){switch(s){case sap.ui.commons.layout.Separation.None:return null;case sap.ui.commons.layout.Separation.Small:return"sapUiMltSepS";case sap.ui.commons.layout.Separation.SmallWithLine:return"sapUiMltSepSWL";case sap.ui.commons.layout.Separation.Medium:return"sapUiMltSepM";case sap.ui.commons.layout.Separation.MediumWithLine:return"sapUiMltSepMWL";case sap.ui.commons.layout.Separation.Large:return"sapUiMltSepL";case sap.ui.commons.layout.Separation.LargeWithLine:return"sapUiMltSepLWL"}return null};
sap.ui.commons.layout.MatrixLayoutRenderer.getValueUnit=function(s){var v=0;var u="";var p=s.search('px');if(p>-1){u="px";v=parseInt(s.slice(0,p),10);return({Value:v,Unit:u})}p=s.search('pt');if(p>-1){u="pt";v=parseFloat(s.slice(0,p));return({Value:v,Unit:u})}p=s.search('in');if(p>-1){u="in";v=parseFloat(s.slice(0,p));return({Value:v,Unit:u})}p=s.search('mm');if(p>-1){u="mm";v=parseFloat(s.slice(0,p));return({Value:v,Unit:u})}p=s.search('cm');if(p>-1){u="cm";v=parseFloat(s.slice(0,p));return({Value:v,Unit:u})}p=s.search('em');if(p>-1){u="em";v=parseFloat(s.slice(0,p));return({Value:v,Unit:u})}p=s.search('ex');if(p>-1){u="ex";v=parseFloat(s.slice(0,p));return({Value:v,Unit:u})}p=s.search('%');if(p>-1){u="%";v=parseFloat(s.slice(0,p));return({Value:v,Unit:u})}};
